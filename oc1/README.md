# How-to (OC1)
1. Change OC's `bufferChanges` config option to `false` and `timeout` to a big number like `100000000`.
2. Find your in-game drive in `.../.minecraft/saves/<world_name>/opencomputers/<drive_id>/`.
3. Copy the `lib` directory from here into your in-game drive's `lib`, replacing files with the same names. (This extends OC's terminal with the ability to handle more [ANSI escape codes](https://invisible-island.net/xterm/ctlseqs/ctlseqs.html) (or least consume them so they don't get printed)).
4. Install and setup the [`yabai`](https://github.com/koekeishiya/yabai) window manager for MacOS, or [`dwm`](https://dwm.suckless.org/) for Linux. In `dwm`, set the `lockfullscreen` config option to 0. (You could also use another window manager if it allows you to focus windows in the background.)
5. Open real terminal with the same width/height as your OC computer screen (50×16/80×25/160×50 for tier 1/2/3 screens). If you're using the [`st`](https://st.suckless.org/) terminal, this can be done with `st -g 160x50`. But if you're using the `yabai` window manager for MacOS, there's no exact way to resize tiled windows (and the terminal window _must_ be tiled for it to be in the background), so I made the janky script `yabai_spawn_mc_ide_terminal.sh`. Unless you have the same display size as my 14" MacBook Pro, you'll probably need to fiddle with the numbers to get the terminal dimensions correct.
6. Use `mkfifo` in a real terminal a create named pipe in your in-game drive's `home` directory (or wherever you want).
7. In-game, `cat` the pipe. In your real terminal, `script -fq` it. (If you're using `st`, you can do `st -o <named_pipe> -g 160x50` to open a terminal window of the correct size and dump output into the pipe in one fell swoop.)
8. Put Minecraft in front and focus the terminal window behind it. With `dwm`, you can put Minecraft in full-screen then `MODKEY+j/k` to change focus. With `yabai`, you can't fullscreen Minecraft or it will be moved to a separate desktop space, so you can only maximize it; then, alt-tab to switch to the terminal window behind.

# Alternatives
You could also use [`ngsh`](https://oc.cil.li/topic/1753-ngsh-an-experimental-remote-shell-bridge-between-oc-and-unix-like-oses/) ([GitLab](https://gitlab.com/polyzium/ngsh/tree/master)), which connects your in-game computer to a real shell via a Golang server. This is __cross-platform__ (supports Windows), but typing is much less responsive, even on localhost, because you have to go through a TCP server. An intensive 3D demo performed surprisingly well in this [old test video of mine](https://youtu.be/WHZzNCMJ3Aw?si=wraVSzwTXTpQ2g1j&t=170), but it took ages to Ctrl+C out because TCP doesn't allow skipping frames.)

# Comments 
Unfortunately, AFAIK there is no easy one-click nor cross-platform solution that is as performant as this OS pipe + window focus jank. __I don't know how to do this in Windows__ and have no interest to develop it, but if 1) it is possible to focus a terminal window behind the Minecraft window; 2) you know how to use Windows's named pipes; and 3) you find or create some analogue to GNU `script -f`; then this should be possible to get great performance on Windows too.
